//Мажаренко С.А. 18.09.2017

&НаКлиенте
Процедура ОтправительПриИзменении(Элемент)
	КонтрагентСтрока = ЭтотОбъект.ТекущийЭлемент.ВыделенныйТекст;
	Массив = ЗаполнитьСЗ(КонтрагентСтрока);
	//АдресСЗ.ЗагрузитьЗначения(Массив);
	Запись.Адрес = Массив;	
КонецПроцедуры

&НаСервере
Функция ЗаполнитьСЗ(КонтрагентСтрока)
	Контрагент = Справочники.Контрагенты.НайтиПоНаименованию(КонтрагентСтрока);
	//Массив = Новый Массив;
	АдресСсылка = Справочники.ВидыКонтактнойИнформации.НайтиПоНаименованию("Доставка");
	Факт = Справочники.ВидыКонтактнойИнформации.НайтиПоНаименованию("Факт. адрес");
	Юр = Справочники.ВидыКонтактнойИнформации.НайтиПоНаименованию("Юр. адрес");
	
	Для Каждого ТекСтр ИЗ Контрагент.КонтактнаяИнформация Цикл
		Если ТекСтр.Вид = АдресСсылка ИЛИ ТекСтр.Вид = Факт ИЛИ ТекСтр.Вид = Юр Тогда
			Адрес = ТекСтр.Представление;//Массив.Добавить(ТекСтр.Представление);	
		КонецЕсли;
	КонецЦикла;
	
	Возврат Адрес;//Массив;
КонецФункции

&НаКлиенте
Процедура АдресСЗПриИзменении(Элемент)
	Запись.Адрес = Строка(АдресСЗ);
КонецПроцедуры
//Мажаренко С.А. 18.09.2017


